# mifind API Configuration

http_port: 8080

# Web UI configuration
ui:
  enabled: true          # Enable web UI (requires built React app)
  dev_proxy: false       # If true, proxy to development server instead of serving built files
  dev_url: "http://localhost:5173"  # Vite dev server URL
  index_path: ""         # Custom path to index.html (default: embedded)

# Ranking configuration
ranking:
  strategy: "in-memory"  # "in-memory" or "meilisearch"

  # Provider weights (boost results from specific providers)
  provider_weights:
    # immich: 1.0
    # filesystem: 1.0

  # Type weights (boost results of specific types)
  type_weights:
    # "file.media.image": 1.2
    # "media.asset.photo": 1.5

  # Meilisearch configuration (only used when strategy is "meilisearch")
  meilisearch:
    url: "http://localhost:7700"
    index_uid: "mifind_entities"
    api_key: ""  # Leave empty if no authentication

    cleanup:
      enabled: false
      interval: "24h"  # Full rebuild every 24 hours

# Mock provider for testing
mock_enabled: true
mock_entity_count: 100

# Filesystem providers (commented out - enable as needed)
# Each instance connects to a filesystem-api service
# filesystem_providers:
#   - instance_id: "docs"
#     url: "http://localhost:8082"
#     api_key: ""
#   - instance_id: "media"
#     url: "http://localhost:8083"
#     api_key: ""

# Immich providers (commented out - enable as needed)
# Each instance connects to an Immich server
# immich_providers:
#   - instance_id: "photos"
#     url: "https://immich.example.com"
#     api_key: "your-api-key-here"
#     insecure_skip_verify: false
#   - instance_id: "family-photos"
#     url: "https://photos.family.com"
#     api_key: "another-api-key"
#     insecure_skip_verify: true
